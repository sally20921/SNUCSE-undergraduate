이산수학 숙제 5번
========
*<div align=right>2013-11392 김지현</div>*

### 1. 222
답은 222이다. 포함배제원리를 쓰면 된다.

> `0`이 연속하여 5개 나타나는 경우의 수 + `1`이 연속하여 5개 나타나는 경우의 수 -
> `0`과 `1`이 모두 각각 연속하여 5개 나타나는 경우의 수

`0`이 연속하여 5개 나타나는 경우의수는 `6 * 2^5 - 5 * 2^4 = 112` 번이다.

*   아래의 경우의 수가 모두 `6 * 2^5` 이다.

    ```
    // '?' 는 0 혹은 1 이라는 뜻
    00000?????
    ?00000????
    ??00000???
    ???00000??
    ????00000?
    ?????00000
    ```

*   하지만 이때 `11 00000 011` 과 `110 00000 11` 과 같이, 같은 수를 중복하여
    센다는 문제가 있다. 이때 아래의 경우를 빼면 잘못 중복되는 경우를 모두 빼고,
    `0`이 5번 이상 중복되는 경우의 수를 제대로 셀 수 있다.

    ```
    000000????
    ?000000???
    ??000000??
    ???000000?
    ????000000
    ```

    위의 경우의 수는 `5 * 2^4` 이다.

동일한 원리로, `1`이 연속하여 5개 나타나는 경우의 수 또한 `112`번이다.

`0`과 `1`이 모두 연속하여 5개 나타나는 경우의 수는 `1111100000`, `0000011111`
두개뿐이다. 그래서 답은 `112 + 112 - 2 = 222` 이다.

아래의 루비코드를 써서 위의 답을 검증할 수 있다.

```ruby
(0 .. 2**10-1) \
  .map { |x| '%010b' % x } \
  .count { |x| x.include?('00000') | x.include?('11111') }
#=> 222
```

### 2.
귀류법을 써서 증명하겠다.

원 명제의 역은 아래와 같다

> 양의 정수 n<sub>1</sub>, n<sub>2</sub>, ..., n<sub>t</sub> 가 있다.
>
> 'n<sub>1</sub> + n<sub>2</sub> + ... + n<sub>t</sub> - t + 1' 개의 오브젝트가
> 't'개의 상자에 들어간다.
>
> 이때, 모든 i ∈ { 1, 2, ..., t } 에 대해 다음이 성립한다.
>
> * i번째 상자에는 물건이 'n<sub>i</sub>'개 미만 있어야한다.

각 상자에 물건이 최대 'n<sub>i</sub> - 1' 개 있다.

모든 상자 안에 들어있는 물건들의 최대 갯수는 'n<sub>1</sub> + n<sub>2</sub> + ... + n<sub>t</sub> - t' 개이다. 이는 원래 상자에 넣은 물건의 수보다 하나 모자라다.

원 명제의 역이 모순이므로, 원 명제는 성립한다.

### 3. 96460
가능한 경우의 수는 아래밖에 없다

경우                       | 경우의 수
---------------------------|---------------------
남자 둘, 여자 넷인경우     | `C(10, 2)*C(15, 4)`
남자 하나, 여자 다섯인경우 | `C(10, 1)*C(15, 5)`
여자 여섯인경우            | `C(10, 0)*C(15, 6)`

```ruby
def fact(n); (1..n).inject(:*); end
def C(a, b); fact(a)/fact(b)/fact(a-b); end

C(10, 2)*C(15, 4) + C(10, 1)*C(15, 5) + C(10, 0)*C(15, 6)
#=> 96460
```

아래의 루비 코드로 검산할 수 있다.

```ruby
([:man]*10 + [:woman]*15) \
  .combination(6) \
  .count { |x| x.count(:woman) > x.count(:man) }
#=> 96460
```

### 4.
#### a)
*   물건 *n*개에서 *r*개를 임의로 골라, 고른 물건중에서 *k*개를 제거하기

    ```
    n = 7: a b c d e f g
    r = 3: a b c
    k = 1: a
    ```

*   물건 *n*개에서 *k*개를 임의로 제거하고, (r-k)개를 추가로 제거하기

    ```
    n           = 7: a b c d e f g
    n-k         = 6:   b c d e f g
    (n-k)-(r-k) = 4:       d e f g
    ```

위 둘은 근본적으로 같은행동이다. 선택의 순서만 바꿨다고 볼 수 있다.

#### b)
```
  C(n, k) * C(n-k, r-k)
= n!/k!/(n-k)! * (n-k)!/(r-k)!/(n-r)!
= n!/k!/(r-k)!/(n-r)!
= n!/r!/(n-r)! * r!/k!/(r-k)!
= C(n, r) * C(r, k)
```

### 5.
#### a)
벡터공간을 생각해보자. (0, 0)에서 (m, n)으로 갈때 오로지 한칸 위나 한칸
오른쪽으로만 이동할 수 있다고 한다. 이를 수식으로 표현하면 아래와 같다.
```
(m, n) = m*(1, 0) + n*(0, 1)
```
이때 벡터 덧셈은 교환법칙과 결합법칙이 자유롭게 성립하기때문에 덧셈의 순서를
마구 바꿀 수 있다.
```
(m, n) = (0, 1) + (1, 0) + (1, 0) + ...
(m, n) = (1, 0) + (0, 1) + (1, 0) + ...
(m, n) = (1, 0) + (1, 0) + (0, 1) + ...

...
```
결국 이 문제는 `(0, 1)`를 m개, `(1, 0)`를 n개 갖고있을때, 이를 섞어서 만들 수
있는 모든 경우의 수를 구하는 문제가 된다.

위 문제나 `0`을 m개, `1`를 n개 갖고있을때 이를 섞어 만들 수 있는 모든 이진수
스트링의 가짓수를 구하는 문제나 차이가 없다.

#### b) `C(m+n, m)`
m+n개의 자릿수 가운데 m개를 골라 `0`, 나머지를 모두 `1`로 만들면 되므로 답은
`C(m+n, m)`이다.

### 6. 3
> 9개의 동일한 DVD를 3개의 구분불가능한 상자에 넣을때, 모든 상자가 최소한 두개의
> DVD를 갖고있는 경우를 구하라.

미리 각 상자 안에 DVD를 2개씩 넣어두고, 남은 3개를 세 상자중 아무곳에나 넣을때의
경우의 수를 세면 된다. 아래의 세개뿐이다.

* (3, 0, 0)
* (2, 1, 0)
* (1, 1, 1)

아래의 루비 코드를 써서 답을 검증할 수 있다.

```ruby
(0..9) \
  .flat_map { |n| (n..9).map { |m| [n, m-n, 9-m].sort } } \
  .uniq \
  .count { |x| x.all? { |c| c >= 2 } }
#=> 3
```
### 7. 5151
> (x + y + z)<sup>100</sup> 을 전개하면 항이 총 몇개있는가

위 문제는 공 100개를 `x`, `y`, `z` 라는 서로 다른 상자가 나눠가지는것으로 볼 수
있다. 6번과 같은 풀이를 쓰면 된다. `C(102, 2) = 5151`이다.

### 8. 11232 / 236269 ~= 4.75%
> 포커에서 다섯장을 드로우할때 투페어가 날 확률을 구하라

일단 포커는 규칙상 조커는 제외한다. 총 카드 수는 4*(1..10, JQK) 로 52장이다.

전체 가능한 경우는 `C(52, 5) = 2598959`이다.

투페어의 경우의 수는 아래와 같이 계산한다.

1.  13가지 숫자중 2개의 숫자 `a`, `b` 를 고른다. `C(13, 2)`
1.  4개의 문양으로 `a` 페어를 만들 수 있는 경우는 `C(4, 2)`
1.  4개의 문양으로 `b` 페어를 만들 수 있는 경우는 `C(4, 2)`
1.  지금 이미 만든 투페어와 숫자가 겹치지 않는 카드는 총 `52 - 8 = 44`개이다.
    그중에서 아무거나 하나 고른다

계산하면 `C(13, 2) * C(4, 2) * C(4, 2) * 44 = 123552` 이다.

확률은 `11232/236269 ~= 4.75%`

### 9. 3/8
> 조건부확률: P(A|B) = P(A∩B) / P(B)

랜덤하게 생성한 길이 4 비트스트링의 첫번째 비트가 `1`일 확률: `1/2`

랜덤하게 생성한 길이 4 비트스트링이 `00`을 포함하며 1로 시작할 확률: `(2*2 - 1)/(2^4) = 3/16`

조건부확률: `3/8`

### 10. 21/29 ~= 0.724137...
* `A`: 시장에서 카메라가 성공함
* `~A`: 시장에서 카메라가 실패함
* `E`: 카메라가 성공할것으로 예측됨
* `~E`: 카메라가 실패할것으로 예측됨

문제 지문을 수식으로 옮기면 아래와 같다.

```
P(A) = 0.6
P(E|A) = 0.7
P(E|~A) = 0.4
P(A|E) = ?
```

수식을 전개하자. 편의상 `x := P(A), y := P(A∩E), z := P(E)`로 놓겠다.

```
  P(A)
= x = 0.6                      ; x = 0.6

  P(E|A)
= P(A∩E) / P(A)
= y / x
= 0.7
  y = 0.7x                     ; y = 0.42

  P(E|~A)
= (P(E) - P(A∩E)) / (1 - P(A))
= (z - y)/(1 - x)
= 0.4
  z = 0.4 - 0.4x + y           ; z = 0.58

  P(A|E)
= P(A∩E) / P(E)
= y / z
= 21/29 ~= 0.724137...
```

### 11.
원문을 해석하면 아래와 같다.
```
P(late|car)     = 0.5
P(late|bus)     = 0.2
P(late|bicycle) = 0.05
```
#### a) 2/3
> Bayes' theorem
>
> P(A|B) = P(B|A) * P(A) / P(B)

베이즈 정리를 적용하면 답이 나온다.

```
P(car) = P(bus) = P(bicycle) = 1/3

  P(car|late)
= P(late|car) * P(car) / P(late)
= P(late|car) * P(car) / { P(late|car)*P(car) + P(late|bus)*P(bus) + P(late|bicycle)*P(bicycle) }
= 0.5 * 1/3 / (0.5 * 1/3 + 0.2 * 1/3 + 0.05 * 1/3)
= 2/3
```

#### b) 0.75
동일하다.
```
P(car)     = 0.3
P(bus)     = 0.1
P(bicycle) = 0.6

  P(car|late)
= P(late|car) * P(car) / P(late)
= P(late|car) * P(car) / { P(late|car)*P(car) + P(late|bus)*P(bus) + P(late|bicycle)*P(bicycle) }
= 0.5 * 0.3 / (0.5 * 0.3 + 0.2 * 0.1 + 0.05 * 0.6)
= 0.75
```

### 12.
> E(X + Y) = E(X) + E(Y)
>
> V(X) = E( (X-E(X))^2 )
>
> Cov(X, Y) = E( (X-E(X))(Y-E(Y)) )

편의상 `x := E(X), y := E(Y)` 로 `x`, `y`를 정의하겠다.

```
  V(X) + V(Y) + 2Cov(X, Y)
= E( (X-x)^2 ) + E( (Y-y)^2 ) + 2*E( (X-x)(Y-y) )
= E( (X-x)^2 + (Y-y)^2 + 2*(X-x)(Y-y) )
= E( (X-x + Y-y)^2 )
= E( (X+Y - (x+y))^2 )        ; E(X) + E(Y) = E(X+Y)
= E( (X+Y - E(X+Y))^2 )
  V(X + Y)
```

### 13. (1 - 1/n)<sup>m</sup>
m개의 공을 하나하나 차례대로 랜덤하게 분포시킨다고 생각해보자.

n번째의 공이 들어가는 사건과 n+1번째의 공이 들어가는 사건은 완전히 독립이다.

몇번째에 공을 던지든, 하나의 공을 n개의 캔에 넣을때 첫번째 캔이 비어있을 확률을
`1 - 1/n` 이다.

공을 m번 모두 던지고나서도 첫번째의 캔이 비어있을 확률은 **(1 - 1/n)<sup>m</sup>** 이다.
